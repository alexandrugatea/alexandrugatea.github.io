!function(){"use strict";async function t(){return await async function(){return await new Promise((function(t){navigator.geolocation.getCurrentPosition((function(e){const n={lat:e.coords.latitude,lon:e.coords.longitude,default:!1};console.info("Success: Location retrieved from browser. Lat = %s, Lon = %s",n.lat,n.lon),t(n)}),(function(e){console.warn("Warning: %s. Defaulting to London.",e.message),t({lat:51.52,lon:-.11,default:!0})}))}))}()}const e={location:{url:"https://api.locationiq.com/v1/autocomplete.php",params:{key:"pk.fa6e80804f9289787659846f822b3ee3",q:"",limit:10,dedupe:1,normalizecity:1,tag:"place:*"}},weather:{url:"https://api.weatherapi.com/v1/forecast.json",params:{key:"62853d9a45c1413b89f201737240106",days:7}}};function n(t){let{city:n=null,lat:r=null,lon:i=null}=t;const o={...e.weather},s={...o.params};if(n)s.q=encodeURIComponent(n);else{if(null===r||null===i)throw new Error("Either city or both lat and lon must be provided");s.q=`${r},${i}`}return a(o.url,s)}function a(t,e){return`${t}?${Object.keys(e).map((function(t){return`${t}=${e[t]}`})).join("&")}`}const r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function i(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const o={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function c(t){return(e,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,r=n?.width?String(n.width):e;a=t.formattingValues[r]||t.formattingValues[e]}else{const e=t.defaultWidth,r=n?.width?String(n.width):t.defaultWidth;a=t.values[r]||t.values[e]}return a[t.argumentCallback?t.argumentCallback(e):e]}}function u(t){return(e,n={})=>{const a=n.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],s=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n;return}(s,(t=>t.test(o))):function(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n;return}(s,(t=>t.test(o)));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;return{value:u,rest:e.slice(o.length)}}}var d;const l={code:"en-US",formatDistance:(t,e,n)=>{let a;const i=r[t];return a="string"==typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:o,formatRelative:(t,e,n,a)=>s[t],localize:{ordinalNumber:(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:c({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:c({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:c({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:c({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:c({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(d={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const n=t.match(d.matchPattern);if(!n)return null;const a=n[0],r=t.match(d.parsePattern);if(!r)return null;let i=d.valueCallback?d.valueCallback(r[0]):r[0];return i=e.valueCallback?e.valueCallback(i):i,{value:i,rest:t.slice(a.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let m={};function h(){return m}Math.pow(10,8);const f=6048e5,g=864e5;function p(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}function w(t){const e=p(t);return e.setHours(0,0,0,0),e}function y(t){const e=p(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function v(t,e){const n=w(t),a=w(e),r=+n-y(n),i=+a-y(a);return Math.round((r-i)/g)}function b(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function C(t){const e=p(t),n=b(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M(t){const e=p(t);return v(e,C(e))+1}function S(t,e){const n=h(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=p(t),i=r.getDay(),o=(i<a?7:0)+i-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function L(t){return S(t,{weekStartsOn:1})}function k(t){const e=p(t),n=e.getFullYear(),a=b(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const r=L(a),i=b(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=L(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function T(t){const e=k(t),n=b(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),L(n)}function D(t){const e=p(t),n=+L(e)-+T(e);return Math.round(n/f)+1}function E(t,e){const n=p(t),a=n.getFullYear(),r=h(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=b(t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const s=S(o,e),c=b(t,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const u=S(c,e);return n.getTime()>=s.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function P(t,e){const n=h(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=E(t,e),i=b(t,0);i.setFullYear(r,0,a),i.setHours(0,0,0,0);return S(i,e)}function x(t,e){const n=p(t),a=+S(n,e)-+P(n,e);return Math.round(a/f)+1}function I(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const N={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return I("yy"===e?a%100:a,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):I(n+1,2)},d(t,e){return I(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h(t,e){return I(t.getHours()%12||12,e.length)},H(t,e){return I(t.getHours(),e.length)},m(t,e){return I(t.getMinutes(),e.length)},s(t,e){return I(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds();return I(Math.trunc(a*Math.pow(10,n-3)),e.length)}},H="midnight",A="noon",B="morning",$="afternoon",F="evening",W="night",G={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),a=e>0?e:1-e;return n.ordinalNumber(a,{unit:"year"})}return N.y(t,e)},Y:function(t,e,n,a){const r=E(t,a),i=r>0?r:1-r;if("YY"===e){return I(i%100,2)}return"Yo"===e?n.ordinalNumber(i,{unit:"year"}):I(i,e.length)},R:function(t,e){return I(k(t),e.length)},u:function(t,e){return I(t.getFullYear(),e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return I(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return I(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return N.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return I(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const r=x(t,a);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):I(r,e.length)},I:function(t,e,n){const a=D(t);return"Io"===e?n.ordinalNumber(a,{unit:"week"}):I(a,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):N.d(t,e)},D:function(t,e,n){const a=M(t);return"Do"===e?n.ordinalNumber(a,{unit:"dayOfYear"}):I(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return I(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return I(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),r=0===a?7:a;switch(e){case"i":return String(r);case"ii":return I(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let r;switch(r=12===a?A:0===a?H:a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let r;switch(r=a>=17?F:a>=12?$:a>=4?B:W,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return N.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):N.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return"Ko"===e?n.ordinalNumber(a,{unit:"hour"}):I(a,e.length)},k:function(t,e,n){let a=t.getHours();return 0===a&&(a=24),"ko"===e?n.ordinalNumber(a,{unit:"hour"}):I(a,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):N.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):N.s(t,e)},S:function(t,e){return N.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return q(a);case"XXXX":case"XX":return Y(a);default:return Y(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return q(a);case"xxxx":case"xx":return Y(a);default:return Y(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+O(a,":");default:return"GMT"+Y(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+O(a,":");default:return"GMT"+Y(a,":")}},t:function(t,e,n){return I(Math.trunc(t.getTime()/1e3),e.length)},T:function(t,e,n){return I(t.getTime(),e.length)}};function O(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=Math.trunc(a/60),i=a%60;return 0===i?n+String(r):n+String(r)+e+I(i,2)}function q(t,e){if(t%60==0){return(t>0?"-":"+")+I(Math.abs(t)/60,2)}return Y(t,e)}function Y(t,e=""){const n=t>0?"-":"+",a=Math.abs(t);return n+I(Math.trunc(a/60),2)+e+I(a%60,2)}const R=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},K={p:_,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return R(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",R(a,e)).replace("{{time}}",_(r,e))}},z=/^D+$/,U=/^Y+$/,j=["D","DD","YY","YYYY"];function Z(t){return t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function V(t){if(!Z(t)&&"number"!=typeof t)return!1;const e=p(t);return!isNaN(Number(e))}const Q=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X=/^'([^]*?)'?$/,tt=/''/g,et=/[a-zA-Z]/;function nt(t,e,n){const a=h(),r=n?.locale??a.locale??l,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,s=p(t);if(!V(s))throw new RangeError("Invalid time value");let c=e.match(J).map((t=>{const e=t[0];if("p"===e||"P"===e){return(0,K[e])(t,r.formatLong)}return t})).join("").match(Q).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:at(t)};if(G[e])return{isToken:!0,value:t};if(e.match(et))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));r.localize.preprocessor&&(c=r.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map((a=>{if(!a.isToken)return a.value;const i=a.value;(!n?.useAdditionalWeekYearTokens&&function(t){return U.test(t)}(i)||!n?.useAdditionalDayOfYearTokens&&function(t){return z.test(t)}(i))&&function(t,e,n){const a=function(t,e,n){const a="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(a),j.includes(t))throw new RangeError(a)}(i,e,String(t));return(0,G[i[0]])(s,i,r.localize,u)})).join("")}function at(t){const e=t.match(X);return e?e[1].replace(tt,"'"):t}const rt=function(t){return nt(t,"E, MMMM do, yyyy").replace(/(\d+)(st|nd|rd|th)/,"$1<sup>$2</sup>")},it=function(t){return nt(t,"E, do").replace(/(\d+)(st|nd|rd|th)/,"$1<sup>$2</sup>")},ot=function(t){const[e]=t.split(":"),n=(new Date).getMinutes().toString().padStart(2,"0"),a=(new Date).getSeconds().toString().padStart(2,"0");return`${e.padStart(2,"0")}:${n}:${a}`},st=function(t){const[e,n]=[t.split("/")[5],t.split("/")[6].split(".")[0]];return{dayOrNight:e,code:n}};function ct(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=document.querySelector(t)||t;return a&&!n?a.innerHTML=e:n?a.src=e:void 0}function ut(t){return t.innerHTML=""}const dt={Afghanistan:"AF",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Congo, the Democratic Republic of the":"CD","Cook Islands":"CK","Costa Rica":"CR","Cote d'Ivoire":"CI","Côte d'Ivoire":"CI",Croatia:"HR",Cuba:"CU",Cyprus:"CY","Czech Republic":"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands":"FK","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern and Antarctic Lands":"FR","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and McDonald Islands":"HM",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID",Iran:"IR",Iraq:"IQ",Ireland:"IE",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea, Democratic People's Republic of":"KP","North Korea":"KP","Korea, Republic of":"KR","South Korea":"KR",Kuwait:"KW",Kyrgyzstan:"KG","Lao People's Democratic Republic (Laos)":"LA","Lao People's Democratic Republic":"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY","Libya, State of":"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO",Macedonia:"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX",Micronesia:"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","Netherlands Antilles":"AN","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW","Palestine, State of":"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA","Réunion":"RE",Romania:"RO",Russia:"RU",Rwanda:"RW","Saint Helena":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS","South Sudan":"SS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY",Taiwan:"TW",Tajikistan:"TJ",Tanzania:"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom":"GB","United States of America":"US","United States Minor Outlying Islands":"UM",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE",Vietnam:"VN","Virgin Islands, British":"VG","Virgin Islands, U.S.":"VI","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"};function lt(t){const e=function(t){return dt[t]||null}(t.country);return e?`<span class="fi fi-${e.toLowerCase()}"></span>`:""}function mt(t,e,n,a){const r=(i=a,t.split(".").reduce((function(t,e){return t&&t[e]}),i));var i;return`\n\t\t<div class="dual-value">\n\t\t\t<span class="metric">\n\t\t\t\t${r.metric}<span class="unit">${e}</span>\n\t\t\t</span>\n\t\t\t<span class="imperial">\n\t\t\t\t${r.imperial}<span class="unit">${n}</span>\n\t\t\t</span>\n\t\t</div>\n\t`}const ht='<svg class="sunrise" width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11.2929 0.292893C11.6834 -0.0976311 12.3166 -0.0976311 12.7071 0.292893L16.7071 4.29289C17.0976 4.68342 17.0976 5.31658 16.7071 5.70711C16.3166 6.09763 15.6834 6.09763 15.2929 5.70711L13 3.41421V8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8V3.41421L8.70711 5.70711C8.31658 6.09763 7.68342 6.09763 7.29289 5.70711C6.90237 5.31658 6.90237 4.68342 7.29289 4.29289L11.2929 0.292893ZM3.51262 8.51262C3.90314 8.1221 4.53631 8.1221 4.92683 8.51262L6.34683 9.93262C6.73736 10.3231 6.73736 10.9563 6.34683 11.3468C5.95631 11.7374 5.32314 11.7374 4.93262 11.3468L3.51262 9.92683C3.1221 9.53631 3.1221 8.90314 3.51262 8.51262ZM20.4875 8.51262C20.878 8.90314 20.878 9.53631 20.4875 9.92683L19.0675 11.3468C18.6769 11.7374 18.0438 11.7374 17.6532 11.3468C17.2627 10.9563 17.2627 10.3231 17.6532 9.93262L19.0732 8.51262C19.4638 8.1221 20.0969 8.1221 20.4875 8.51262ZM7.75736 12.7574C8.88258 11.6321 10.4087 11 12 11C13.5913 11 15.1174 11.6321 16.2426 12.7574C17.3679 13.8826 18 15.4087 18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 15.9391 15.5786 14.9217 14.8284 14.1716C14.0783 13.4214 13.0609 13 12 13C10.9391 13 9.92172 13.4214 9.17157 14.1716C8.42143 14.9217 8 15.9391 8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 15.4087 6.63214 13.8826 7.75736 12.7574ZM0 17C0 16.4477 0.447715 16 1 16H3C3.55228 16 4 16.4477 4 17C4 17.5523 3.55228 18 3 18H1C0.447715 18 0 17.5523 0 17ZM20 17C20 16.4477 20.4477 16 21 16H23C23.5523 16 24 16.4477 24 17C24 17.5523 23.5523 18 23 18H21C20.4477 18 20 17.5523 20 17ZM0 21C0 20.4477 0.447715 20 1 20H23C23.5523 20 24 20.4477 24 21C24 21.5523 23.5523 22 23 22H1C0.447715 22 0 21.5523 0 21Z" fill="black"/>\n</svg>',ft='<svg class="sunset" width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C12.5523 0 13 0.447715 13 1V5.58579L15.2929 3.29289C15.6834 2.90237 16.3166 2.90237 16.7071 3.29289C17.0976 3.68342 17.0976 4.31658 16.7071 4.70711L12.7071 8.70711C12.3166 9.09763 11.6834 9.09763 11.2929 8.70711L7.29289 4.70711C6.90237 4.31658 6.90237 3.68342 7.29289 3.29289C7.68342 2.90237 8.31658 2.90237 8.70711 3.29289L11 5.58579V1C11 0.447715 11.4477 0 12 0ZM3.51262 8.51262C3.90314 8.1221 4.53631 8.1221 4.92683 8.51262L6.34683 9.93262C6.73736 10.3231 6.73736 10.9563 6.34683 11.3468C5.95631 11.7374 5.32314 11.7374 4.93262 11.3468L3.51262 9.92683C3.1221 9.53631 3.1221 8.90314 3.51262 8.51262ZM20.4875 8.51262C20.878 8.90314 20.878 9.53631 20.4875 9.92683L19.0675 11.3468C18.6769 11.7374 18.0438 11.7374 17.6532 11.3468C17.2627 10.9563 17.2627 10.3231 17.6532 9.93262L19.0732 8.51262C19.4638 8.1221 20.0969 8.1221 20.4875 8.51262ZM7.75736 12.7574C8.88258 11.6321 10.4087 11 12 11C13.5913 11 15.1174 11.6321 16.2426 12.7574C17.3679 13.8826 18 15.4087 18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 15.9391 15.5786 14.9217 14.8284 14.1716C14.0783 13.4214 13.0609 13 12 13C10.9391 13 9.92172 13.4214 9.17157 14.1716C8.42143 14.9217 8 15.9391 8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 15.4087 6.63214 13.8826 7.75736 12.7574ZM0 17C0 16.4477 0.447715 16 1 16H3C3.55228 16 4 16.4477 4 17C4 17.5523 3.55228 18 3 18H1C0.447715 18 0 17.5523 0 17ZM20 17C20 16.4477 20.4477 16 21 16H23C23.5523 16 24 16.4477 24 17C24 17.5523 23.5523 18 23 18H21C20.4477 18 20 17.5523 20 17ZM0 21C0 20.4477 0.447715 20 1 20H23C23.5523 20 24 20.4477 24 21C24 21.5523 23.5523 22 23 22H1C0.447715 22 0 21.5523 0 21Z" fill="black"/>\n</svg>';function gt(t,e){const[n]=t.localtime.time.split(":"),a=new Date,r=`${n}:${a.getMinutes().toString().padStart(2,"0")}:${a.getSeconds().toString().padStart(2,"0")}`;e.innerHTML=`${t.localtime.date}, ${r}`}let pt;function wt(t){const e=t.iconCode.dayOrNight;return`images/icons/${t.iconCode.code}-${e}.svg`}function yt(t){const e=parseInt(t.chanceOfRain),n=parseInt(t.chanceOfSnow);return e>=n?`\n            <i>rainy</i>\n            <div class="weather-rain-snow-chance">${e}%</div>`:`\n            <i>ac_unit</i>\n            <div class="weather-rain-snow-chance">${n}%</div>\n            `}const vt={city:"#locationCity",region:"#locationRegion",country:"#locationCountry",coords:"#locationCoords",time:"#locationTime"},bt={temp:".weather-current-temp",condition:"#currentText",icon:"#currentIcon",wind:".weather-current-wind-values",precipitation:".weather-current-precipitation-values",humidity:"#currentHumidity",clouds:"#weatherCurrentClouds",windDir:"#weatherCurrentWindDir",uv:"#weatherCurrentUV"};function Ct(t){ct(vt.city,t.city),ct(vt.region,`Region: ${t.region}`),ct(vt.country,`${lt(t)} ${t.country}`),ct(vt.coords,`Coords: ${t.lat}, ${t.lon},`),function(t){const e=document.querySelector("#locationTime");pt&&clearInterval(pt),gt(t,e),pt=setInterval((function(){return gt(t,e)}),1e3)}(t)}function Mt(t){!function(t){const e=document.body,n=document.querySelector("#weatherNow");e.setAttribute("data-code",t.code),1===t.isDay?(e.classList.remove("night"),e.classList.add("day"),n.classList.remove("night"),n.classList.add("day")):(e.classList.remove("day"),e.classList.add("night"),n.classList.remove("day"),n.classList.add("night"))}(t),ct(bt.temp,mt("temp","&deg","&deg",t)),ct(bt.wind,mt("wind"," kph"," mph",t)),ct(bt.condition,t.text),ct(bt.icon,wt(t),!0),ct(bt.humidity,`${t.humidity}<span class="unit">%<span>`),ct(bt.precipitation,mt("precipitation"," mm"," in",t)),ct(bt.clouds,`${t.clouds}<span class="unit">%<span>`),ct(bt.windDir,t.windDir),ct(bt.uv,t.uv)}function St(t){const e=document.querySelector("#weatherNextDays"),n=document.querySelector("#weatherHoursContainer");ut(e),ut(n),ct(".astro",function(t){return`\n        <span>${ht} ${t.forecastDays[0].astro.sunrise}</span>\n        <span>${ft} ${t.forecastDays[0].astro.sunset}</span>`}(t)),t.forecastDays.forEach((function(t){const n=`\n\t\t\t\t<div  class = "weather-card-date">${t.date}</div>\n\t\t\t\t<img  src   = ${wt(t)}>\n\t\t\t\t<h3   class = "weather-condition">${t.condition}</h3>\n\t\t\t\t<div  class = "weather-card-details">\n\t\t\t\t<div  class = "weather-card-temp-min">\n\t\t\t\t\t<span class = "temp-icon">lo</span>\n\t\t\t\t\t${mt("temp.min","&deg;","&deg;",t)}\n\t\t\t\t</div>\n\t\t\t\t<div  class = "weather-card-divider"> | </div>\n\t\t\t\t<div  class = "weather-card-temp-max">\n\t\t\t\t\t<span class = "temp-icon">hi</span>\n\t\t\t\t\t${mt("temp.max","&deg;","&deg;",t)}\n\t\t\t\t</div>\n\t\t\t\t<div class = "weather-day-precip">${yt(t)}</div>\n\t\t\t</div>`,a=document.createElement("div");a.className="weather-day-card",a.dataset.code=t.weatherCode,a.dataset.time=1===t.isDay?"day":"night",a.innerHTML=n,e.appendChild(a)})),t.currentDayHours.forEach((function(t){const e=`\n\t\t\t<div class = "weather-hour-date">${t.date}</div>\n\t\t\t<div class = "weather-hour-time">${t.time}</div>\n\t\t\t<img src   = ${wt(t)}>\n\t\t\t<h3  class = "weather-hour-condition">${t.condition}</h3>\n\t\t\t<div class = "weather-hour-temp">\n\t\t\t\t<i>device_thermostat</i>\n\t\t\t\t${mt("temp","&deg;","&deg;",t)}\n\t\t\t</div>\n\t\t\t<div class = "weather-hour-precip">\n\t\t\t\t${yt(t)}\n\t\t\t</div>\n\t\t\t<div class = "weather-hour-wind">\n\t\t\t\t<i>air</i>\n\t\t\t\t${mt("wind"," kph"," mph",t)}\n\t\t\t</div>\n\t\t`,a=document.createElement("div");a.className="weather-hour-card",a.innerHTML=e,n.appendChild(a)}))}function Lt(t){const e=function(t){const[e,n]=t.localtime.split(" "),a=rt(e),r=ot(n);return{country:t.country,city:t.name,lat:t.lat,lon:t.lon,localtime:{date:a,time:r},tz_id:t.tz_id,region:t.region}}(t.location),n=function(t){return{clouds:t.cloud,code:t.condition.code,icon:t.condition.icon,iconCode:st(t.condition.icon),text:t.condition.text,humidity:t.humidity,uv:t.uv,windDir:t.wind_dir,feelsLike:{metric:t.feelslike_c,imperial:t.feelslike_f},temp:{metric:t.temp_c,imperial:Math.round(t.temp_f)},wind:{metric:t.wind_kph,imperial:t.wind_mph},precipitation:{metric:t.precip_mm,imperial:t.precip_in},isDay:t.is_day}}(t.current),a=function(t,e,n){const a=t.forecastday.map((function(t){return{date:rt(t.date),astro:{sunrise:t.astro.sunrise,sunset:t.astro.sunset},isDay:n.is_day,condition:t.day.condition.text,conditionIcon:t.day.condition.icon,weatherCode:t.day.condition.code,iconCode:st(t.day.condition.icon),chanceOfRain:t.day.daily_chance_of_rain,chanceOfSnow:t.day.daily_chance_of_snow,temp:{max:{metric:t.day.maxtemp_c,imperial:t.day.maxtemp_f},min:{metric:t.day.mintemp_c,imperial:t.day.mintemp_f}},precip:{metric:t.day.totalprecip_mm,imperial:t.day.totalprecip_in}}})),r=new Date(e.localtime).getHours();let i=[];const o=t.forecastday[0].hour.slice(r+1);let s=48-o.length;if(s>0)for(let e=1;e<t.forecastday.length&&s>0;e++){const n=t.forecastday[e].hour.slice(0,s);i=i.concat(n),s-=n.length}return i=o.concat(i),i=i.map((function(t){const e=t.time.split(" ")[1],n=t.time.split(" ")[0];return{date:it(n),time:e,temp:{metric:t.temp_c,imperial:t.temp_f},feelsLike:{metric:t.feelslike_c,imperial:t.feelslike_f},precip:{metric:t.precip_mm,imperial:t.precip_in},wind:{metric:t.wind_kph,imperial:t.wind_mph},condition:t.condition.text,conditionIcon:t.condition.icon,iconCode:st(t.condition.icon),chanceOfRain:t.chance_of_rain,chanceOfSnow:t.chance_of_snow}})),{forecastDays:a,currentDayHours:i}}(t.forecast,t.location,t.current);Ct(e),Mt(n),St(a)}function kt(t,e){const n=document.createElement("div");n.classList.add(e);const a=document.createElement("p");a.classList.add(`${e}-message`),a.innerHTML=`<span>${t}</span>`;const r=document.createElement("i");r.textContent="close";const i=2*Math.PI*17,o=document.createElement("div");o.classList.add("progress-circle"),o.style.width="40px",o.style.height="40px",o.innerHTML=`\n\t\t<svg width="40" height="40">\n\t\t\t<circle cx="20" \n\t\t\t\t\tcy="20" \n\t\t\t\t\tr="17" \n\t\t\t\t\tstroke-dasharray="${i}" \n\t\t\t\t\tstroke-width="3"\n\t\t\t\t\tstroke-dashoffset="0"></circle>\n\t\t</svg>\n\t`,r.appendChild(o),a.appendChild(r),n.appendChild(a),document.body.appendChild(n),setTimeout((function(){n.classList.add("open")}),100),r.addEventListener("click",(function(){n.classList.remove("open"),setTimeout((function(){n.remove()}),350)}));if("toast"===e){const t=o.querySelector("circle");setTimeout((function(){t.style.transition="stroke-dashoffset 3000ms linear",t.style.strokeDashoffset=i}),100),setTimeout((function(){n.classList.remove("open")}),3200),setTimeout((function(){n.remove()}),6e3)}}function Tt(){document.getElementById("loader").classList.add("open")}function Dt(){document.getElementById("loader").classList.remove("open")}async function Et(t){const e=await fetch(t,{mode:"cors"});if(!e.ok)throw new Error("Network response was not ok");return await e.json()}function Pt(t){Tt(),Et(t).then((function(t){Dt(),Lt(t)})).catch((function(t){console.error("Error fetching data: ",t),kt("Location not found","toast"),Dt()}))}function xt(){const t=document.getElementById("localTime"),e=new Date,n=`\n        <span class="local-time hours">${String(e.getHours()).padStart(2,"0")}</span>\n        <span class="local-time divider">:</span>\n        <span class="local-time minutes">${String(e.getMinutes()).padStart(2,"0")}</span>\n        <span class="local-time divider">:</span>\n        <span class="local-time seconds">${String(e.getSeconds()).padStart(2,"0")}</span>\n    `;t.innerHTML=n}function It(){[document.querySelector("#weatherHoursContainer"),document.querySelector("#popularPlaces")].forEach((function(t){let e,n,a=!1;function r(){a=!1,t.parentNode.classList.remove("active")}t.addEventListener("mousedown",(function(r){a=!0,t.parentNode.classList.add("active"),e=r.pageX-t.offsetLeft,n=t.scrollLeft,r.preventDefault()})),t.addEventListener("mouseleave",r),document.addEventListener("mouseup",r),t.addEventListener("mousemove",(function(r){return function(r,i){if(!a)return;r.preventDefault();const o=r.pageX-t.offsetLeft,s=o-e;t.scrollLeft=n-s*i}(r,1.5)}))}))}function Nt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];At(t);const a=document.createElement("div");a.className="dropdown-item",e&&e.length>2&&!n?a.innerHTML=`No locations found for <strong>"${e}"</strong>`:a.innerHTML=n?`Searching for <strong>"${e}"</strong>`:"At least 3 characters are needed for a search",t.appendChild(a)}function Ht(t,e,n){const{newCityField:a,hiddenFieldUI:r,hiddenField:i,requestWeatherDataBasedOn:o,searchContainer:s,locationForm:c,dropdown:u,state:d,formSubmitButton:l,submitButtonIcons:m}=n,h=document.createElement("div");var f,g;h.classList.add("dropdown-item"),f=h,g={"data-place":t.display_place,"data-lat-lon":`${t.lat},${t.lon}`,tabindex:-1},Object.keys(g).forEach((function(t){return f.setAttribute(t,g[t])})),0===e&&h.classList.add("current"),h.innerHTML=`\n        <span class="dropdown-item-content"> \n            <span class="dic-name">\n                <i class="fi fi-${t.address.country_code}"></i>\n                ${t.display_name}\n            </span>\n            <span class="dic-coords">\n                ${parseFloat(t.lat).toFixed(3)}, \n                ${parseFloat(t.lon).toFixed(3)}\n            </span>\n        </span>\n    `,u.appendChild(h),h.addEventListener("click",(function(){a.value=h.querySelector(".dic-name").textContent.trim(),r.value=h.getAttribute("data-place"),i.value=h.getAttribute("data-lat-lon"),$t(l,m.delete),o(a.value,i.value),s.classList.remove("open"),c.parentNode.classList.remove("mobile-open"),d.isDropdownActive=!1}))}function At(t){t.innerHTML=""}function Bt(t,e,n,a){t.classList.add("open"),e.length>0&&$t(n,a)}function $t(t,e){t.querySelector(".icon").textContent=e}const Ft=document.getElementById("newLocationField"),Wt=document.getElementById("newLocationForm"),Gt=document.getElementById("submitForm"),Ot=document.getElementById("valueToFetchWeather"),qt=document.getElementById("valueToDisplyOnUI"),Yt=document.querySelector(".search-results-container"),Rt=document.querySelectorAll(".popular-place"),_t=document.getElementById("searchResults"),Kt=document.getElementById("mobileSearchTrigger"),zt=document.body,Ut=200;let jt;const Zt={search:"search",delete:"close"},Vt={currentIndex:0,isDropdownActive:!1};function Qt(t){function r(t){!function(t,e,n,a,r,i,o,s,c){const u=e.querySelectorAll(".dropdown-item");if("ArrowDown"===t.key){if(t.preventDefault(),0===u.length)return;u[n.currentIndex].classList.remove("current"),n.currentIndex=(n.currentIndex+1)%u.length,u[n.currentIndex].classList.add("current"),u[n.currentIndex].scrollIntoView({behavior:"smooth",block:"nearest"})}else if("ArrowUp"===t.key){if(t.preventDefault(),0===u.length)return;u[n.currentIndex].classList.remove("current"),n.currentIndex=(n.currentIndex-1+u.length)%u.length,u[n.currentIndex].classList.add("current"),u[n.currentIndex].scrollIntoView({behavior:"smooth",block:"nearest"})}else if("Enter"===t.key)if(t.preventDefault(),n.isDropdownActive&&u[n.currentIndex])u[n.currentIndex].click();else{if(""===r.value||r.value.length<3)return void kt("Please type a location","toast");s(i.value,o.value),a.parentNode.classList.remove("mobile-open"),At(e),c.classList.remove("open")}else"Escape"===t.key&&(At(e),a.reset(),n.isDropdownActive=!1)}(t,_t,Vt,Wt,Ft,qt,Ot,i,Yt)}function i(e,a){let r;if(a){const[t,e]=a.split(",");r=n({lat:t,lon:e})}else{if(!e)return void alert("Please enter a city name");r=n({city:e})}Tt(),Et(r).then((function(e){Dt(),Lt(e),t(r),Ft.blur()})).catch((function(t){kt("Location not found","toast"),Dt()}))}Kt.addEventListener("click",(function(){return t=Wt,e=Ft,n=Ft.value,a=Gt,r=Zt.delete,t.parentNode.classList.add("mobile-open"),e.focus(),e.click(),void(n.length>0&&$t(a,r));var t,e,n,a,r})),zt.addEventListener("click",(function(t){return function(t,e,n,a,r){e.contains(t.target)||(e.parentNode.classList.remove("mobile-open"),n.classList.remove("open"),$t(a,r))}(t,Wt,Yt,Gt,Zt.search)})),Ft.addEventListener("input",(function(){const t=this.value;if(qt.value=Ft.value,clearTimeout(jt),t.length>0?$t(Gt,Zt.delete):$t(Gt,Zt.search),t.length>=0&&t.length<=2)return Nt(_t);t.length>2&&(jt=setTimeout((function(){const n=function(t){const n={...e.location};return n.params.q=t,a(n.url,n.params)}(t);Nt(_t,t,!0),fetch(n).then((function(t){return t.json()})).then((function(t){if(At(_t),Bt(Yt,Ft.value,Gt,Zt.delete),Vt.isDropdownActive=!0,!Array.isArray(t)||0===t.length)throw new Error("No locations found");t.forEach((function(t,e){Ht(t,e,{newCityField:Ft,hiddenFieldUI:qt,hiddenField:Ot,requestWeatherDataBasedOn:i,searchContainer:Yt,locationForm:Wt,dropdown:_t,state:Vt,formSubmitButton:Gt,submitButtonIcons:Zt})})),Vt.currentIndex=0})).catch((function(e){console.warn(e),Nt(_t,t,!1)}))}),Ut))})),document.removeEventListener("keydown",r),document.addEventListener("keydown",r),Wt.addEventListener("submit",(function(t){var e,n,a,r,i;t.preventDefault(),e=Gt,n=Zt.search,a=_t,r=Wt,i=Ft,$t(e,n),At(a),r.reset(),i.click()})),Ft.addEventListener("click",(function(){return Bt(Yt,Ft.value,Gt,Zt.delete)})),Rt.forEach((function(e){e.addEventListener("click",(function(a){$t(Gt,Zt.search),function(t,e,a,r,i,o){t.preventDefault();const s=n({city:e.getAttribute("data-id")});a.classList.remove("open"),r.parentNode.classList.remove("mobile-open"),window.scroll({top:0,left:0,behavior:"smooth"}),Tt(),Et(s).then((function(t){Dt(),Lt(t),i.blur(),o(s)})).catch((function(t){console.error(t),kt("Location not found","toast"),Dt()}))}(a,e,Yt,Wt,Ft,t)}))}))}let Jt=null;function Xt(e){Jt=e,Pt(e);document.getElementById("refresh").onclick=function(){var t=this;Pt(Jt),this.classList.add("rotate"),setTimeout((function(){t.classList.remove("rotate")}),350)};document.getElementById("locateMe").onclick=async function(){const e=await t(),a=n({lat:e.lat,lon:e.lon});Jt=a,Pt(a)},function(){const t=document.getElementById("units");let e=t.querySelector("#unit");const n=document.body;let a="";const r=localStorage.getItem("unitsSystem","metric");"metric"===r?(e.innerHTML="&deg;C",n.classList.remove("metric","imperial"),n.classList.add(r)):"imperial"===r&&(e.innerHTML="&deg;F",n.classList.remove("metric","imperial"),n.classList.add(r)),t.addEventListener("click",(function(){e.textContent.includes("C")?(a="imperial",e.innerHTML="&deg;F"):e.textContent.includes("F")&&(a="metric",e.innerHTML="&deg;C"),localStorage.setItem("unitsSystem",a),n.classList.remove("metric","imperial"),n.classList.add(a)}))}(),setInterval(xt,1e3),xt(),It(),Qt(te)}function te(t){Jt=t}document.addEventListener("DOMContentLoaded",(async function(){const e=await t();Xt(n({lat:e.lat,lon:e.lon}))}))}();